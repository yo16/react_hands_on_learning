<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>React Samples</title>
    </head>
    <body>
        <!-- 描画のルート -->
        <div id="root"></div>

        <!-- ReactとReactDOM（両方とも開発版） -->
        <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <!-- Babel -->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

        <script type="text/babel">
            // ここにコードを記述する
            const data = [
                {
                    name: "Baked Salmon",
                    ingredients: [
                        {name: "Salmon", amount: 1, measurement: "l lb"},
                        {name: "Pine Nuts", amount: 1, measurement: "cup"},
                        {name: "Butter lettuce", amount: 2, measurement: "cups"},
                        {name: "Yellow Squash", amount: 1, measurement: "med"},
                        {name: "Olive Oil", amount: 0.5, measurement: "cup"},
                        {name: "Garlic", amount: 3, measurement: "cloves"},
                    ],
                    steps: [
                        "Preheat the oven to 375 degrees",
                        "Lightly coat aluminum foil with oil.",
                        "Place salmon on foil.",
                        "Cover with rosemary, sliced lemons, chopped garlic.",
                        "Bake for 15-20 minutes until cooked through.",
                        "Remove from oven."
                    ],
                },
                {
                    name: "Fish Tacos",
                    ingredients: [
                        {name: "Whitefish", amount: 1, measurement: "l lb"},
                        {name: "Cheese", amount: 1, measurement: "cup"},
                        {name: "Iceberg Lettuce", amount: 2, measurement: "cups"},
                        {name: "Tomatoes", amount: 2, measurement: "large"},
                        {name: "Tortillas", amount: 3, measurement: "med"}
                    ],
                    steps: [
                        "cook the fish on the grill untill cooked through.",
                        "Place the fish on the 3 tortillas.",
                        "Top them with lattuce, tomatoes, and cheese.",
                    ],
                }
            ];

            // Recipeコンポーネント
            function Recipe ({name, ingredients, steps}) {
                return (
                    <section id={name.toLowerCase().replace(/ /g, "-")}>
                        <h1>{name}</h1>
                        <ul className="ingredients">
                            {ingredients.map((ingredient, i) => (
                                <li key={i}>{ingredient.name}</li>
                            ))}
                        </ul>
                        <section className="instructions">
                            <h2>Cooking Instructions</h2>
                            {steps.map((step, i) => (
                                <p key={i}>{step}</p>
                            ))}
                        </section>
                    </section>

                );
            }

            // Menuコンポーネント
            function Menu (props) {
                return (
                    <article>
                        <header>
                            <h1>{props.title}</h1>
                        </header>
                        <div className="recipes">
                            {props.recipes.map((recipe, i) => (
                                /*
                                <Recipe
                                    key={i}
                                    name={recipe.name}
                                    ingredients={recipe.ingredients}
                                    steps={recipe.steps}
                                />
                                */
                                <Recipe key={i} {...recipe} />
                            ))}
                        </div>
                    </article>
                )
            }

            // Menuを描画
            ReactDOM.render(
                <Menu recipes={data} title="Delicious Recipes" />,
                document.getElementById("root")
            );
        </script>
    </body>
</html>
